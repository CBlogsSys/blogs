<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CBlog博览天下</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="记录生活点滴">
<meta property="og:type" content="website">
<meta property="og:title" content="CBlog博览天下">
<meta property="og:url" content="https://cblogssys.github.io/index.html">
<meta property="og:site_name" content="CBlog博览天下">
<meta property="og:description" content="记录生活点滴">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CBlog博览天下">
<meta name="twitter:description" content="记录生活点滴">
  
    <link rel="alternate" href="/atom.xml" title="CBlog博览天下" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blogs/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blogs/" id="logo">CBlog博览天下</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blogs/" id="subtitle">一天进步一点，记录成长！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blogs/">Home</a>
        
          <a class="main-nav-link" href="/blogs/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://cblogssys.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-第十七章springbootdevtools（热部署）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blogs/2018/01/29/第十七章springbootdevtools（热部署）/" class="article-date">
  <time datetime="2018-01-29T08:06:25.000Z" itemprop="datePublished">2018-01-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blogs/2018/01/29/第十七章springbootdevtools（热部署）/">第十七章springbootdevtools（热部署）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><br></p><p><br></p><!--StartFragment--><p style="font-size: 12px;"><strong>技术介绍</strong></p><ul style="font-size: 12px;"><li><strong>devtools</strong>：是boot的一个热部署工具，当我们修改了classpath下的文件（包括类文件、属性文件、页面等）时，会重新启动应用（由于其采用的双类加载器机制，这个启动会非常快，如果发现这个启动比较慢，可以选择使用jrebel）<ul><li><strong>双类加载器机制</strong>：boot使用了两个类加载器来实现重启（restart）机制：<strong>base类加载器（简称bc）</strong>+<strong>restart类加载器（简称rc）</strong>。<ul><li>bc：用于加载不会改变的jar（eg.第三方依赖的jar）</li><li>rc：用于加载我们正在开发的jar（eg.整个项目里我们自己编写的类）。当应用重启后，原先的rc被丢掉、重新new一个rc来加载这些修改过的东西，而bc却不需要动一下。这就是devtools重启速度快的原因。</li></ul></li></ul></li><li><strong>thymeleaf：</strong>boot推荐的模板引擎，这里做简要的介绍，用来介绍devtools对页面的热部署。</li></ul><p style="font-size: 12px;"><strong>项目结构</strong>：</p><p style="font-size: 12px;"><img src="http://images2015.cnblogs.com/blog/866881/201605/866881-20160517155301857-1830060692.png" alt="" width="166" height="403"></p><p style="font-size: 12px;"><strong>1、pom.xml</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_closed_95b4697f-6984-47b5-a5d6-083c644b330a" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="vertical-align: middle;"> <span class="cnblogs_code_collapse" style="font-size: 12px !important;">View Code</span></div><p style="font-size: 12px;"><strong>说明</strong>：如果仅仅使用thymeleaf，只需要引入thymeleaf；如果需要使用devtools，只需要引入devtools。</p><p style="font-size: 12px;"><strong>注意</strong>：</p><ul style="font-size: 12px;"><li>maven中的optional=true表示依赖不会传递。即此处引用的devtools不会传递到依赖myboot项目的项目中。</li><li>仅仅加入devtools在我们的eclipse中还不起作用，这时候还需要对之前添加的spring-boot-maven-plugin做一些修改，如下：<div class="cnblogs_code" style="font-size: 12px !important;"><img id="code_img_opened_34dd6459-62c3-4cbb-bd01-db3059c188bb" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_34dd6459-62c3-4cbb-bd01-db3059c188bb" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;">1</span>             <span style="font-size: 12px !important;">&lt;!–</span><span style="font-size: 12px !important;"> 用于将应用打成可直接运行的jar（该jar就是用于生产环境中的jar） 值得注意的是，如果没有引用spring-boot-starter-parent做parent， <br></span><span style="font-size: 12px !important;">2</span> <span style="font-size: 12px !important;">                且采用了上述的第二种方式，这里也要做出相应的改动 </span><span style="font-size: 12px !important;">–&gt;</span><br><span style="font-size: 12px !important;">3</span>             <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">plugin</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">4</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">groupId</span><span style="font-size: 12px !important;">&gt;</span>org.springframework.boot<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">groupId</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">5</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">artifactId</span><span style="font-size: 12px !important;">&gt;</span>spring-boot-maven-plugin<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">artifactId</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">6</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">configuration</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">7</span>                     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">fork</span><span style="font-size: 12px !important;">&gt;</span>true<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">fork</span><span style="font-size: 12px !important;">&gt;</span><span style="font-size: 12px !important;">&lt;!–</span><span style="font-size: 12px !important;"> 如果没有该项配置，肯呢个devtools不会起作用，即应用不会restart </span><span style="font-size: 12px !important;">–&gt;</span><br><span style="font-size: 12px !important;">8</span>                 <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">configuration</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">9</span>             <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">plugin</span><span style="font-size: 12px !important;">&gt;</span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p>即添加了<strong>fork:true</strong></p></li></ul><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>2、ThymeleafController</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_opened_fef94725-c553-4fb6-8317-e50d65d3e79b" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_fef94725-c553-4fb6-8317-e50d65d3e79b" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;"> 1</span> <span style="font-size: 12px !important;">package</span><span style="font-size: 12px !important;"> com.xxx.firstboot.web;<br></span><span style="font-size: 12px !important;"> 2</span> <br><span style="font-size: 12px !important;"> 3</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.stereotype.Controller;<br></span><span style="font-size: 12px !important;"> 4</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.ui.Model;<br></span><span style="font-size: 12px !important;"> 5</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestMapping;<br></span><span style="font-size: 12px !important;"> 6</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestMethod;<br></span><span style="font-size: 12px !important;"> 7</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestParam;<br></span><span style="font-size: 12px !important;"> 8</span> <br><span style="font-size: 12px !important;"> 9</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> io.swagger.annotations.Api;<br></span><span style="font-size: 12px !important;">10</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> io.swagger.annotations.ApiOperation;<br></span><span style="font-size: 12px !important;">11</span> <br><span style="font-size: 12px !important;">12</span> @Api(&#34;测试Thymeleaf和devtools&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">13</span> <span style="font-size: 12px !important;">@Controller<br></span><span style="font-size: 12px !important;">14</span> @RequestMapping(&#34;/thymeleaf&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">15</span> <span style="font-size: 12px !important;">public</span> <span style="font-size: 12px !important;">class</span><span style="font-size: 12px !important;"> ThymeleafController {<br></span><span style="font-size: 12px !important;">16</span> <br><span style="font-size: 12px !important;">17</span>     @ApiOperation(&#34;第一个thymeleaf程序&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">18</span>     @RequestMapping(value = &#34;/greeting&#34;, method =<span style="font-size: 12px !important;"> RequestMethod.GET)<br></span><span style="font-size: 12px !important;">19</span>     <span style="font-size: 12px !important;">public</span> String greeting(@RequestParam(name = &#34;name&#34;, required = <span style="font-size: 12px !important;">false</span>, defaultValue = &#34;world&#34;<span style="font-size: 12px !important;">) String name,<br></span><span style="font-size: 12px !important;">20</span> <span style="font-size: 12px !important;">                           Model model) {<br></span><span style="font-size: 12px !important;">21</span>         model.addAttribute(&#34;xname&#34;<span style="font-size: 12px !important;">, name);<br></span><span style="font-size: 12px !important;">22</span>         <span style="font-size: 12px !important;">return</span> &#34;greet&#34;<span style="font-size: 12px !important;">;<br></span><span style="font-size: 12px !important;">23</span> <span style="font-size: 12px !important;">    }<br></span><span style="font-size: 12px !important;">24</span> <br><span style="font-size: 12px !important;">25</span> }</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p style="font-size: 12px;"><strong>说明</strong>：Model可以作为一个入参，在代码中，将属性以&#34;key-value&#34;的形式存入model，最后直接返回字符串即可。</p><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>3、greet.html</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_opened_917fe767-9732-487c-a64c-fe1833142bdb" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_917fe767-9732-487c-a64c-fe1833142bdb" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;"> 1</span> <span style="font-size: 12px !important;">&lt;!</span><span style="font-size: 12px !important;">DOCTYPE HTML</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 2</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">html </span><span style="font-size: 12px !important;">xmlns:th</span><span style="font-size: 12px !important;">=&#34;<a href="http://www.thymeleaf.org&amp;#34" target="_blank" rel="external">http://www.thymeleaf.org&amp;#34</a>;</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 3</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">head</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 4</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">title</span><span style="font-size: 12px !important;">&gt;</span>第一个thymeleaf程序<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">title</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 5</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">meta </span><span style="font-size: 12px !important;">http-equiv</span><span style="font-size: 12px !important;">=&#34;Content-Type&#34;</span><span style="font-size: 12px !important;"> content</span><span style="font-size: 12px !important;">=&#34;text/html; charset=UTF-8&#34;</span> <span style="font-size: 12px !important;">/&gt;</span><br><span style="font-size: 12px !important;"> 6</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">head</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 7</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">body</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 8</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">p </span><span style="font-size: 12px !important;">th:text</span><span style="font-size: 12px !important;">=&#34;’Hello, ‘ + ${xname} + ‘!’&#34;</span> <span style="font-size: 12px !important;">/&gt;</span><br><span style="font-size: 12px !important;"> 9</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">div</span><span style="font-size: 12px !important;">&gt;</span>1234567890!!!xx<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">div</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">10</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">body</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">11</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">html</span><span style="font-size: 12px !important;">&gt;</span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p style="font-size: 12px;"><strong>注意</strong>：</p><ul style="font-size: 12px;"><li>src/main/resources/templates：页面存放目录</li><li>src/main/resources/static：方式静态文件（css、js等）</li></ul><p style="font-size: 12px;">以上的目录与ssm中开发的不一样，ssm中会放在src/main/webapp下</p><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>测试：</strong></p><ul style="font-size: 12px;"><li>修改类–&gt;保存：应用会重启</li><li>修改配置文件–&gt;保存：应用会重启</li><li>修改页面–&gt;保存：应用不会重启，但会重新加载，页面会刷新（原理是将spring.thymeleaf.cache设为false）</li></ul><p style="font-size: 12px;"><strong>补充：</strong></p><ul style="font-size: 12px;"><li>默认情况下，/META-INF/maven，/META-INF/resources，/resources，<strong>/static</strong>，<strong>/templates</strong>，/public这些文件夹下的文件修改<strong>不会使应用重启，但是会重新加载</strong><span>（devtools内嵌了一个LiveReload server，<span>当资源发生改变时，浏览器刷新）。</span></span><ul><li>如果想改变默认的设置，可以自己设置不重启的目录：spring.devtools.restart.exclude=static/<strong>,public/</strong>，这样的话，就只有这两个目录下的文件修改不会导致restart操作了。</li><li>如果要在保留默认设置的基础上还要添加其他的排除目录：spring.devtools.restart.additional-exclude</li></ul></li><li>如果想要使得当非classpath下的文件发生变化时应用得以重启，使用：spring.devtools.restart.additional-paths，这样devtools就会将该目录列入了监听范围。</li></ul><p style="font-size: 12px;"> </p><p style="font-size: 12px;">参考：<a href="http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude" target="_blank">http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude</a></p><!--EndFragment--><p><br></p><p><br></p><p><br></p><p><br></p><!--StartFragment--><p style="font-size: 12px;"><strong>技术介绍</strong></p><ul style="font-size: 12px;"><li><strong>devtools</strong>：是boot的一个热部署工具，当我们修改了classpath下的文件（包括类文件、属性文件、页面等）时，会重新启动应用（由于其采用的双类加载器机制，这个启动会非常快，如果发现这个启动比较慢，可以选择使用jrebel）<ul><li><strong>双类加载器机制</strong>：boot使用了两个类加载器来实现重启（restart）机制：<strong>base类加载器（简称bc）</strong>+<strong>restart类加载器（简称rc）</strong>。<ul><li>bc：用于加载不会改变的jar（eg.第三方依赖的jar）</li><li>rc：用于加载我们正在开发的jar（eg.整个项目里我们自己编写的类）。当应用重启后，原先的rc被丢掉、重新new一个rc来加载这些修改过的东西，而bc却不需要动一下。这就是devtools重启速度快的原因。</li></ul></li></ul></li><li><strong>thymeleaf：</strong>boot推荐的模板引擎，这里做简要的介绍，用来介绍devtools对页面的热部署。</li></ul><p style="font-size: 12px;"><strong>项目结构</strong>：</p><p style="font-size: 12px;"><img src="http://images2015.cnblogs.com/blog/866881/201605/866881-20160517155301857-1830060692.png" alt="" width="166" height="403"></p><p style="font-size: 12px;"><strong>1、pom.xml</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_closed_95b4697f-6984-47b5-a5d6-083c644b330a" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="vertical-align: middle;"> <span class="cnblogs_code_collapse" style="font-size: 12px !important;">View Code</span></div><p style="font-size: 12px;"><strong>说明</strong>：如果仅仅使用thymeleaf，只需要引入thymeleaf；如果需要使用devtools，只需要引入devtools。</p><p style="font-size: 12px;"><strong>注意</strong>：</p><ul style="font-size: 12px;"><li>maven中的optional=true表示依赖不会传递。即此处引用的devtools不会传递到依赖myboot项目的项目中。</li><li>仅仅加入devtools在我们的eclipse中还不起作用，这时候还需要对之前添加的spring-boot-maven-plugin做一些修改，如下：<div class="cnblogs_code" style="font-size: 12px !important;"><img id="code_img_opened_34dd6459-62c3-4cbb-bd01-db3059c188bb" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_34dd6459-62c3-4cbb-bd01-db3059c188bb" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;">1</span>             <span style="font-size: 12px !important;">&lt;!–</span><span style="font-size: 12px !important;"> 用于将应用打成可直接运行的jar（该jar就是用于生产环境中的jar） 值得注意的是，如果没有引用spring-boot-starter-parent做parent， <br></span><span style="font-size: 12px !important;">2</span> <span style="font-size: 12px !important;">                且采用了上述的第二种方式，这里也要做出相应的改动 </span><span style="font-size: 12px !important;">–&gt;</span><br><span style="font-size: 12px !important;">3</span>             <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">plugin</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">4</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">groupId</span><span style="font-size: 12px !important;">&gt;</span>org.springframework.boot<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">groupId</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">5</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">artifactId</span><span style="font-size: 12px !important;">&gt;</span>spring-boot-maven-plugin<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">artifactId</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">6</span>                 <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">configuration</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">7</span>                     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">fork</span><span style="font-size: 12px !important;">&gt;</span>true<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">fork</span><span style="font-size: 12px !important;">&gt;</span><span style="font-size: 12px !important;">&lt;!–</span><span style="font-size: 12px !important;"> 如果没有该项配置，肯呢个devtools不会起作用，即应用不会restart </span><span style="font-size: 12px !important;">–&gt;</span><br><span style="font-size: 12px !important;">8</span>                 <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">configuration</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">9</span>             <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">plugin</span><span style="font-size: 12px !important;">&gt;</span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p>即添加了<strong>fork:true</strong></p></li></ul><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>2、ThymeleafController</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_opened_fef94725-c553-4fb6-8317-e50d65d3e79b" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_fef94725-c553-4fb6-8317-e50d65d3e79b" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;"> 1</span> <span style="font-size: 12px !important;">package</span><span style="font-size: 12px !important;"> com.xxx.firstboot.web;<br></span><span style="font-size: 12px !important;"> 2</span> <br><span style="font-size: 12px !important;"> 3</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.stereotype.Controller;<br></span><span style="font-size: 12px !important;"> 4</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.ui.Model;<br></span><span style="font-size: 12px !important;"> 5</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestMapping;<br></span><span style="font-size: 12px !important;"> 6</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestMethod;<br></span><span style="font-size: 12px !important;"> 7</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> org.springframework.web.bind.annotation.RequestParam;<br></span><span style="font-size: 12px !important;"> 8</span> <br><span style="font-size: 12px !important;"> 9</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> io.swagger.annotations.Api;<br></span><span style="font-size: 12px !important;">10</span> <span style="font-size: 12px !important;">import</span><span style="font-size: 12px !important;"> io.swagger.annotations.ApiOperation;<br></span><span style="font-size: 12px !important;">11</span> <br><span style="font-size: 12px !important;">12</span> @Api(&#34;测试Thymeleaf和devtools&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">13</span> <span style="font-size: 12px !important;">@Controller<br></span><span style="font-size: 12px !important;">14</span> @RequestMapping(&#34;/thymeleaf&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">15</span> <span style="font-size: 12px !important;">public</span> <span style="font-size: 12px !important;">class</span><span style="font-size: 12px !important;"> ThymeleafController {<br></span><span style="font-size: 12px !important;">16</span> <br><span style="font-size: 12px !important;">17</span>     @ApiOperation(&#34;第一个thymeleaf程序&#34;<span style="font-size: 12px !important;">)<br></span><span style="font-size: 12px !important;">18</span>     @RequestMapping(value = &#34;/greeting&#34;, method =<span style="font-size: 12px !important;"> RequestMethod.GET)<br></span><span style="font-size: 12px !important;">19</span>     <span style="font-size: 12px !important;">public</span> String greeting(@RequestParam(name = &#34;name&#34;, required = <span style="font-size: 12px !important;">false</span>, defaultValue = &#34;world&#34;<span style="font-size: 12px !important;">) String name,<br></span><span style="font-size: 12px !important;">20</span> <span style="font-size: 12px !important;">                           Model model) {<br></span><span style="font-size: 12px !important;">21</span>         model.addAttribute(&#34;xname&#34;<span style="font-size: 12px !important;">, name);<br></span><span style="font-size: 12px !important;">22</span>         <span style="font-size: 12px !important;">return</span> &#34;greet&#34;<span style="font-size: 12px !important;">;<br></span><span style="font-size: 12px !important;">23</span> <span style="font-size: 12px !important;">    }<br></span><span style="font-size: 12px !important;">24</span> <br><span style="font-size: 12px !important;">25</span> }</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p style="font-size: 12px;"><strong>说明</strong>：Model可以作为一个入参，在代码中，将属性以&#34;key-value&#34;的形式存入model，最后直接返回字符串即可。</p><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>3、greet.html</strong></p><div class="cnblogs_code" style="font-size: 12px;"><img id="code_img_opened_917fe767-9732-487c-a64c-fe1833142bdb" class="code_img_opened" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" style="vertical-align: middle;"><div id="cnblogs_code_open_917fe767-9732-487c-a64c-fe1833142bdb" class="cnblogs_code_hide"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div><pre style="font-size: 12px !important;"><span style="font-size: 12px !important;"> 1</span> <span style="font-size: 12px !important;">&lt;!</span><span style="font-size: 12px !important;">DOCTYPE HTML</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 2</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">html </span><span style="font-size: 12px !important;">xmlns:th</span><span style="font-size: 12px !important;">=&#34;<a href="http://www.thymeleaf.org&amp;#34" target="_blank" rel="external">http://www.thymeleaf.org&amp;#34</a>;</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 3</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">head</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 4</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">title</span><span style="font-size: 12px !important;">&gt;</span>第一个thymeleaf程序<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">title</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 5</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">meta </span><span style="font-size: 12px !important;">http-equiv</span><span style="font-size: 12px !important;">=&#34;Content-Type&#34;</span><span style="font-size: 12px !important;"> content</span><span style="font-size: 12px !important;">=&#34;text/html; charset=UTF-8&#34;</span> <span style="font-size: 12px !important;">/&gt;</span><br><span style="font-size: 12px !important;"> 6</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">head</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 7</span> <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">body</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;"> 8</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">p </span><span style="font-size: 12px !important;">th:text</span><span style="font-size: 12px !important;">=&#34;’Hello, ‘ + ${xname} + ‘!’&#34;</span> <span style="font-size: 12px !important;">/&gt;</span><br><span style="font-size: 12px !important;"> 9</span>     <span style="font-size: 12px !important;">&lt;</span><span style="font-size: 12px !important;">div</span><span style="font-size: 12px !important;">&gt;</span>1234567890!!!xx<span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">div</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">10</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">body</span><span style="font-size: 12px !important;">&gt;</span><br><span style="font-size: 12px !important;">11</span> <span style="font-size: 12px !important;">&lt;/</span><span style="font-size: 12px !important;">html</span><span style="font-size: 12px !important;">&gt;</span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="font-size: 12px !important;"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div></div><p style="font-size: 12px;"><strong>注意</strong>：</p><ul style="font-size: 12px;"><li>src/main/resources/templates：页面存放目录</li><li>src/main/resources/static：方式静态文件（css、js等）</li></ul><p style="font-size: 12px;">以上的目录与ssm中开发的不一样，ssm中会放在src/main/webapp下</p><p style="font-size: 12px;"> </p><p style="font-size: 12px;"><strong>测试：</strong></p><ul style="font-size: 12px;"><li>修改类–&gt;保存：应用会重启</li><li>修改配置文件–&gt;保存：应用会重启</li><li>修改页面–&gt;保存：应用不会重启，但会重新加载，页面会刷新（原理是将spring.thymeleaf.cache设为false）</li></ul><p style="font-size: 12px;"><strong>补充：</strong></p><ul style="font-size: 12px;"><li>默认情况下，/META-INF/maven，/META-INF/resources，/resources，<strong>/static</strong>，<strong>/templates</strong>，/public这些文件夹下的文件修改<strong>不会使应用重启，但是会重新加载</strong><span>（devtools内嵌了一个LiveReload server，<span>当资源发生改变时，浏览器刷新）。</span></span><ul><li>如果想改变默认的设置，可以自己设置不重启的目录：spring.devtools.restart.exclude=static/<strong>,public/</strong>，这样的话，就只有这两个目录下的文件修改不会导致restart操作了。</li><li>如果要在保留默认设置的基础上还要添加其他的排除目录：spring.devtools.restart.additional-exclude</li></ul></li><li>如果想要使得当非classpath下的文件发生变化时应用得以重启，使用：spring.devtools.restart.additional-paths，这样devtools就会将该目录列入了监听范围。</li></ul><p style="font-size: 12px;"> </p><p style="font-size: 12px;">参考：<a href="http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude" target="_blank">http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude</a></p><!--EndFragment--><p><br></p><p><br></p>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://cblogssys.github.io/2018/01/29/第十七章springbootdevtools（热部署）/" data-id="cjczxkrt5000208eqd2uxdi2j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-这是测试例子" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blogs/2017/12/28/这是测试例子/" class="article-date">
  <time datetime="2017-12-28T03:13:15.000Z" itemprop="datePublished">2017-12-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blogs/2017/12/28/这是测试例子/">这是测试例子</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://cblogssys.github.io/2017/12/28/这是测试例子/" data-id="cjczxkrpw000008eq4ne9mjpp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blogs/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blogs/archives/2017/12/">十二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blogs/2018/01/29/第十七章springbootdevtools（热部署）/">第十七章springbootdevtools（热部署）</a>
          </li>
        
          <li>
            <a href="/blogs/2017/12/28/这是测试例子/">这是测试例子</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Dingjiancheng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blogs/" class="mobile-nav-link">Home</a>
  
    <a href="/blogs/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blogs/fancybox/jquery.fancybox.css">
  <script src="/blogs/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blogs/js/script.js"></script>

  </div>
</body>
</html>